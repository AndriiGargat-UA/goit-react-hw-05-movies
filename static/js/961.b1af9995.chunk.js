"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[961],{961:function(e,n,r){r.r(n);var t=r(861),a=r(439),c=r(757),s=r.n(c),i=r(791),u=r(689),o=r(87),p=r(390),d=r(449),l=r(184);n.default=function(){var e,n,r=(0,i.useState)([]),c=(0,a.Z)(r,2),f=c[0],v=c[1],h=(0,i.useState)("start"),x=(0,a.Z)(h,2),g=x[0],m=x[1],j=(0,i.useState)(null),w=(0,a.Z)(j,2),y=w[0],k=w[1],b=(0,u.TH)(),_=(0,i.useRef)(null!==(e=null===(n=b.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/"),Z=(0,u.UO)().movieId;if((0,i.useEffect)((function(){m("pending");var e=function(){var e=(0,t.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.Y5)(Z);case 3:n=e.sent,v(n),m("resolved"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),m("rejected"),k(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[Z]),"pending"===g)return(0,l.jsx)("h2",{children:"Loading..."});if("rejected"===g)return(0,l.jsxs)("h2",{children:["Sorry, something went wrong: ",y]});if("resolved"===g){var S=f.title,U=f.release_date,T=f.vote_average,I=f.overview,P=f.genres,C=f.poster_path;return(0,l.jsxs)("div",{children:[(0,l.jsx)(o.rU,{to:_.current,children:"Go back"}),C?(0,l.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(C),alt:"movie poster"}):(0,l.jsx)("img",{src:d,alt:"movie poster"}),(0,l.jsxs)("h2",{children:[S," (",U.slice(0,4),")"]}),(0,l.jsxs)("p",{children:["User Score: ",Math.round(10*T)," %"]}),(0,l.jsx)("h3",{children:"Overview"}),(0,l.jsx)("p",{children:I}),(0,l.jsx)("h3",{children:"Genres"}),(0,l.jsx)("ul",{children:P.map((function(e){return(0,l.jsx)("li",{children:e.name},e.id)}))}),(0,l.jsx)("h3",{children:"Additional information"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)(o.rU,{to:"cast",children:"Cast"})}),(0,l.jsx)("li",{children:(0,l.jsx)(o.rU,{to:"reviews",children:"Reviews"})})]}),(0,l.jsx)(i.Suspense,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:(0,l.jsx)(u.j3,{})})]})}}},390:function(e,n,r){r.d(n,{Hx:function(){return v},WK:function(){return h},Y5:function(){return l},wr:function(){return d},xc:function(){return f}});var t=r(861),a=r(757),c=r.n(a),s=r(243),i=r(7),u=r.n(i),o="7eaebca790602b6b3aca45d915bff38d",p="https://api.themoviedb.org/3",d=function(){var e=(0,t.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(p,"/trending/movie/day?api_key=").concat(o));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(p,"/movie/").concat(n,"?api_key=").concat(o,"&language=en-US"));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,t.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(p,"/movie/").concat(n,"/credits?api_key=").concat(o,"&language=en-US"));case 2:return r=e.sent,e.abrupt("return",r.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,t.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(p,"/movie/").concat(n,"/reviews?api_key=").concat(o,"&language=en-US&page=1"));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,t.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(p,"/search/movie?api_key=").concat(o,"&language=en-US&page=1&query=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();l.PropTypes={movieId:u().string},f.PropTypes={movieId:u().string},v.PropTypes={movieId:u().string},h.PropTypes={query:u().string}},449:function(e,n,r){e.exports=r.p+"static/media/poster-not-found.f755b7814a5417277da2.png"}}]);
//# sourceMappingURL=961.b1af9995.chunk.js.map