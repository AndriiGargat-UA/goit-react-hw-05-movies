{"version":3,"file":"static/js/961.b1af9995.chunk.js","mappings":"0OAiFA,UA5EqB,WAAO,IAAD,IACzB,GAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,SAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KAEnDC,GAAYC,EAAAA,EAAAA,MAAZD,QAkBR,IAfAE,EAAAA,EAAAA,YAAU,WACRX,EAAU,WACV,IAAMY,EAAe,mCAAG,8GAEGC,EAAAA,EAAAA,IAAkBJ,GAFrB,OAEdK,EAFc,OAGpBhB,EAASgB,GACTd,EAAU,YAJU,gDAMpBA,EAAU,YACVE,EAAS,KAAMa,SAPK,yDAAH,qDAUrBH,GACD,GAAE,CAACH,IAEW,YAAXV,EACF,OAAO,uCAET,GAAe,aAAXA,EACF,OAAO,0DAAkCE,KAE3C,GAAe,aAAXF,EAAuB,CACzB,IAAQiB,EACNnB,EADMmB,MAAOC,EACbpB,EADaoB,aAAcC,EAC3BrB,EAD2BqB,aAAcC,EACzCtB,EADyCsB,SAAUC,EACnDvB,EADmDuB,OAAQC,EAC3DxB,EAD2DwB,YAG7D,OACE,4BACE,SAAC,KAAD,CAAMC,GAAIjB,EAAoBkB,QAA9B,qBACCF,GACC,gBAAKG,IAAG,UA/BI,mCA+BJ,OAAmBH,GAAeI,IAAI,kBAE9C,gBAAKD,IAAKE,EAAQD,IAAI,kBAGxB,0BACGT,EADH,KACYC,EAAaU,MAAM,EAAG,GADlC,QAGA,wCAAgBC,KAAKC,MAAqB,GAAfX,GAA3B,SAEA,sCACA,uBAAIC,KACJ,oCACA,wBACGC,EAAOU,KAAI,SAAAC,GACV,OAAO,wBAAoBA,EAAMC,MAAjBD,EAAME,GACvB,OAGH,oDACA,2BACE,yBACE,SAAC,KAAD,CAAMX,GAAG,OAAT,qBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,2BAGJ,SAAC,EAAAY,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,QAIP,CACF,C,+MC5EKC,EAAU,mCACVC,EAAW,+BAEJC,EAAmB,mCAAG,oGACVC,EAAAA,EAAAA,IAAA,UAClBF,EADkB,uCACqBD,IAFX,cAC3BtB,EAD2B,yBAI1BA,EAAS0B,KAAKC,SAJY,2CAAH,qDAOnB5B,EAAiB,mCAAG,WAAMJ,GAAN,uFACR8B,EAAAA,EAAAA,IAAA,UAClBF,EADkB,kBACA5B,EADA,oBACmB2B,EADnB,oBADQ,cACzBtB,EADyB,yBAIxBA,EAAS0B,MAJe,2CAAH,sDAOjBE,EAAiB,mCAAG,WAAMjC,GAAN,uFACR8B,EAAAA,EAAAA,IAAA,UAClBF,EADkB,kBACA5B,EADA,4BAC2B2B,EAD3B,oBADQ,cACzBtB,EADyB,yBAIxBA,EAAS0B,KAAKG,MAJU,2CAAH,sDAOjBC,EAAiB,mCAAG,WAAMnC,GAAN,uFACR8B,EAAAA,EAAAA,IAAA,UAClBF,EADkB,kBACA5B,EADA,4BAC2B2B,EAD3B,2BADQ,cACzBtB,EADyB,yBAIxBA,EAAS0B,KAAKC,SAJU,2CAAH,sDAOjBI,EAAgB,mCAAG,WAAMC,GAAN,uFACPP,EAAAA,EAAAA,IAAA,UAClBF,EADkB,iCACeD,EADf,wCACsDU,IAF/C,cACxBhC,EADwB,yBAIvBA,EAAS0B,KAAKC,SAJS,2CAAH,sDAO7B5B,EAAkBkC,UAAY,CAC5BtC,QAASsC,IAAAA,QAEXL,EAAkBK,UAAY,CAC5BtC,QAASsC,IAAAA,QAEXH,EAAkBG,UAAY,CAC5BtC,QAASsC,IAAAA,QAEXF,EAAiBE,UAAY,CAC3BD,MAAOC,IAAAA,O","sources":["pages/MovieDetails/MovieDetails.jsx","services/api.js"],"sourcesContent":["import { Suspense, useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { fetchMovieDetails } from 'services/api';\nimport poster from 'images/poster-not-found.png';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState([]);\n  const [status, setStatus] = useState('start');\n  const [error, setError] = useState(null);\n\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n\n  const { movieId } = useParams();\n  const POSTER_PATH = 'https://image.tmdb.org/t/p/w500';\n\n  useEffect(() => {\n    setStatus('pending');\n    const getMovieDetails = async () => {\n      try {\n        const response = await fetchMovieDetails(movieId);\n        setMovie(response);\n        setStatus('resolved');\n      } catch (error) {\n        setStatus('rejected');\n        setError(error.message);\n      }\n    };\n    getMovieDetails();\n  }, [movieId]);\n\n  if (status === 'pending') {\n    return <h2>Loading...</h2>;\n  }\n  if (status === 'rejected') {\n    return <h2>Sorry, something went wrong: {error}</h2>;\n  }\n  if (status === 'resolved') {\n    const { title, release_date, vote_average, overview, genres, poster_path } =\n      movie;\n\n    return (\n      <div>\n        <Link to={backLinkLocationRef.current}>Go back</Link>\n        {poster_path ? (\n          <img src={`${POSTER_PATH}${poster_path}`} alt=\"movie poster\" />\n        ) : (\n          <img src={poster} alt=\"movie poster\" />\n        )}\n\n        <h2>\n          {title} ({release_date.slice(0, 4)})\n        </h2>\n        <p>User Score: {Math.round(vote_average * 10)} %</p>\n\n        <h3>Overview</h3>\n        <p>{overview}</p>\n        <h3>Genres</h3>\n        <ul>\n          {genres.map(genre => {\n            return <li key={genre.id}>{genre.name}</li>;\n          })}\n        </ul>\n\n        <h3>Additional information</h3>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Outlet />\n        </Suspense>\n      </div>\n    );\n  }\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst API_KEY = '7eaebca790602b6b3aca45d915bff38d';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const fetchTrendingMovies = async () => {\n  const response = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n  return response.data.results;\n};\n\nexport const fetchMovieDetails = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data;\n};\n\nexport const fetchMovieCredits = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data.cast;\n};\n\nexport const fetchMovieReviews = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return response.data.results;\n};\n\nexport const fetchMovieSearch = async query => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&page=1&query=${query}`\n  );\n  return response.data.results;\n};\n\nfetchMovieDetails.PropTypes = {\n  movieId: PropTypes.string,\n};\nfetchMovieCredits.PropTypes = {\n  movieId: PropTypes.string,\n};\nfetchMovieReviews.PropTypes = {\n  movieId: PropTypes.string,\n};\nfetchMovieSearch.PropTypes = {\n  query: PropTypes.string,\n};\n"],"names":["useState","movie","setMovie","status","setStatus","error","setError","location","useLocation","backLinkLocationRef","useRef","state","from","movieId","useParams","useEffect","getMovieDetails","fetchMovieDetails","response","message","title","release_date","vote_average","overview","genres","poster_path","to","current","src","alt","poster","slice","Math","round","map","genre","name","id","Suspense","fallback","API_KEY","BASE_URL","fetchTrendingMovies","axios","data","results","fetchMovieCredits","cast","fetchMovieReviews","fetchMovieSearch","query","PropTypes"],"sourceRoot":""}